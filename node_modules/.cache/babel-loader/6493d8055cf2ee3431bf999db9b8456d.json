{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _class, _temp2;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactCreateRef = require('react-create-ref');\n\nvar _reactCreateRef2 = _interopRequireDefault(_reactCreateRef);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar DownArrow = function DownArrow(props) {\n  return _react2.default.createElement('svg', _extends({\n    viewBox: '0 0 12 7'\n  }, props), _react2.default.createElement('g', {\n    stroke: 'none',\n    'stroke-width': '1',\n    fill: 'none',\n    'fill-rule': 'evenodd'\n  }, _react2.default.createElement('path', {\n    fill: 'currentColor',\n    d: 'M0.776785714,0 C0.995536808,0 1.17633857,0.0761808302 1.31919643,0.228544776 L6,4.93003731 L10.6808036,0.228544776 C10.8236614,0.0805340858 11.0044632,0.00652985075 11.2232143,0.00652985075 C11.4419654,0.00652985075 11.6227671,0.0805340858 11.765625,0.228544776 C11.9218758,0.380908722 12,0.568095905 12,0.79011194 C12,1.01648123 11.9218758,1.20584501 11.765625,1.35820896 L6.26116071,6.88899254 C6.18973179,6.96299788 6.10267908,7 6,7 C5.89732092,7 5.81026821,6.96299788 5.73883929,6.88899254 L0.234375,1.35820896 C0.0781242187,1.20149175 0,1.01321627 0,0.793376866 C0,0.573537458 0.0781242187,0.385261978 0.234375,0.228544776 C0.381697165,0.0761808302 0.562498929,0 0.776785714,0 Z'\n  })));\n};\n\nvar ExpansionPanel = (_temp2 = _class = function (_React$Component) {\n  _inherits(ExpansionPanel, _React$Component);\n\n  function ExpansionPanel() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ExpansionPanel);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ExpansionPanel.__proto__ || Object.getPrototypeOf(ExpansionPanel)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.isExpanded ? undefined : 0,\n      isExpanded: _this.props.isExpanded\n    }, _this.content = (0, _reactCreateRef2.default)(), _this.toggle = function () {\n      var expand = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !_this.state.isExpanded;\n      var onToggle = _this.props.onToggle;\n\n      if (onToggle) {\n        onToggle(expand);\n      }\n\n      clearTimeout(_this.resetHeightTimer);\n\n      _this.setState(function (state) {\n        var isExpanded = expand;\n        return {\n          isExpanded: isExpanded,\n          height: isExpanded ? null : undefined,\n          expandedHeight: isExpanded ? null : _this.content.current.scrollHeight\n        };\n      });\n    }, _this.onToggle = function () {\n      return _this.toggle();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ExpansionPanel, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      var expandContentAnimationDuration = this.props.expandContentAnimationDuration;\n\n      if (this.props.isExpanded !== prevProps.isExpanded) {\n        this.toggle(this.props.isExpanded);\n      }\n\n      if (this.state.isExpanded !== prevState.isExpanded) {\n        // If `<ExpansionPanel/>` is being expanded then measure its content height.\n        if (this.state.height === null) {\n          this.setState({\n            height: this.content.current.scrollHeight\n          });\n          this.resetHeightTimer = setTimeout(function () {\n            _this2.setState(function (state) {\n              return {\n                height: undefined\n              };\n            });\n          }, expandContentAnimationDuration);\n        } else {\n          // Added a timeout here so that React doesn't\n          // optimize two `setState()`s into a single one.\n          // Added a `10` timeout here so that the browser doesn't\n          // optimize two `setState()`s into a single one.\n          this.resetHeightTimer = setTimeout(function () {\n            _this2.setState({\n              height: 0\n            });\n          }, 20);\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this.resetHeightTimer);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          title = _props.title,\n          disabled = _props.disabled,\n          ToggleIcon = _props.toggleIcon,\n          toggleIconPlacement = _props.toggleIconPlacement,\n          style = _props.style,\n          className = _props.className,\n          children = _props.children;\n      var _state = this.state,\n          isExpanded = _state.isExpanded,\n          height = _state.height,\n          expandedHeight = _state.expandedHeight; // There was a possibility of using `<details/>`/`<summary/>` elements here\n      // but `<summary/>` can only contain any valid paragraph content\n      // which means it can't contain lists, divs, paragraphs, etc.\n\n      return _react2.default.createElement('section', {\n        style: style,\n        className: (0, _classnames2.default)(className, 'rrui__expansion-panel')\n      }, _react2.default.createElement('header', {\n        style: HEADING_STYLE\n      }, _react2.default.createElement('button', {\n        type: 'button',\n        onClick: this.onToggle,\n        'aria-expanded': isExpanded ? true : false,\n        'aria-label': this.props['aria-label'],\n        disabled: disabled,\n        className: (0, _classnames2.default)('rrui__button-reset', 'rrui__outline', 'rrui__expansion-panel__header', {\n          // The explicit \"modifier\" CSS classes on \"header\" are\n          // to support <Collapsible/>s inside <Collapsible/>s.\n          'rrui__expansion-panel__header--expanded': isExpanded,\n          'rrui__expansion-panel__header--toggle-icon-start': ToggleIcon && toggleIconPlacement === 'start',\n          'rrui__expansion-panel__header--toggle-icon-end': ToggleIcon && toggleIconPlacement === 'end'\n        })\n      }, ToggleIcon && toggleIconPlacement === 'start' && _react2.default.createElement(ToggleIcon, {\n        'aria-hidden': true,\n        className: (0, _classnames2.default)('rrui__expansion-panel__icon', 'rrui__expansion-panel__icon--start', {\n          // The explicit \"modifier\" CSS class is to\n          // support <Collapsible/>s inside <Collapsible/>s.\n          'rrui__expansion-panel__icon--expanded': isExpanded\n        })\n      }), _react2.default.createElement('span', {\n        className: 'rrui__expansion-panel__heading'\n      }, title), ToggleIcon && toggleIconPlacement === 'end' && _react2.default.createElement(ToggleIcon, {\n        'aria-hidden': true,\n        className: (0, _classnames2.default)('rrui__expansion-panel__icon', 'rrui__expansion-panel__icon--end', {\n          // The explicit \"modifier\" CSS class is to\n          // support <Collapsible/>s inside <Collapsible/>s.\n          'rrui__expansion-panel__icon--expanded': isExpanded\n        })\n      }))), _react2.default.createElement('div', {\n        ref: this.content,\n        'aria-hidden': !isExpanded,\n        style: {\n          height: isExpanded ? height === null ? 0 : height === undefined ? 'auto' : height + 'px' : height === undefined ? expandedHeight : 0\n        },\n        className: 'rrui__expansion-panel__content-wrapper'\n      }, _react2.default.createElement('div', {\n        className: 'rrui__expansion-panel__content'\n      }, children)));\n    }\n  }]);\n\n  return ExpansionPanel;\n}(_react2.default.Component), _class.propTypes = {\n  title: _propTypes2.default.string.isRequired,\n  disabled: _propTypes2.default.bool,\n  // `isExpanded` can be used for manual control.\n  // For example, when there's a group of expansion panels\n  // and only one of them should be expanded at any given time.\n  isExpanded: _propTypes2.default.bool,\n  onToggle: _propTypes2.default.func,\n  toggleIcon: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.bool]).isRequired,\n  toggleIconPlacement: _propTypes2.default.oneOf(['start', 'end']).isRequired,\n  expandContentAnimationDuration: _propTypes2.default.number.isRequired,\n  style: _propTypes2.default.object,\n  className: _propTypes2.default.string\n}, _class.defaultProps = {\n  toggleIcon: DownArrow,\n  toggleIconPlacement: 'end',\n  expandContentAnimationDuration: 300\n}, _temp2);\nexports.default = ExpansionPanel;\nvar HEADING_STYLE = {\n  margin: 0\n};","map":null,"metadata":{},"sourceType":"script"}